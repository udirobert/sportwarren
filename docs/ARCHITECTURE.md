# SportWarren Architecture

**Dual-Chain Platform | Algorand + Avalanche**

---

## Vision: Championship Manager Meets Web3

SportWarren is an **agentic football platform** combining:
- **Algorand** - Match verification, reputation, low fees
- **Avalanche** - AI agents, DeFi, cross-chain tournaments  
- **Dual-Chain Architecture** - Best of both worlds, user choice

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SportWarren Agentic Platform                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   AVALANCHE  â”‚                           â”‚   ALGORAND   â”‚   â”‚
â”‚  â”‚   Subnet     â”‚                           â”‚   Mainnet    â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ ğŸ¤– Agent     â”‚                           â”‚ âš½ Match      â”‚   â”‚
â”‚  â”‚    Economy   â”‚â—„â”€â”€â”€â”€â”€â”€ User Choice â”€â”€â”€â”€â”€â”€â–ºâ”‚    Verify    â”‚   â”‚
â”‚  â”‚              â”‚        Layer              â”‚    Reputationâ”‚   â”‚
â”‚  â”‚ â€¢ ERC-8004   â”‚                           â”‚ â€¢ State      â”‚   â”‚
â”‚  â”‚ â€¢ TEE/Intel  â”‚                           â”‚   Proofs     â”‚   â”‚
â”‚  â”‚   TDX        â”‚                           â”‚ â€¢ Low Fees   â”‚   â”‚
â”‚  â”‚ â€¢ AWM Cross  â”‚                           â”‚ â€¢ Fast       â”‚   â”‚
â”‚  â”‚   -subnet    â”‚                           â”‚   Finality   â”‚   â”‚
â”‚  â”‚ â€¢ DeFi/MeV   â”‚                           â”‚              â”‚   â”‚
â”‚  â”‚   agents     â”‚                           â”‚              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚                                        â”‚              â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                      â”‚                                          â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚         â”‚   Next.js Abstraction   â”‚                             â”‚
â”‚         â”‚         Layer           â”‚                             â”‚
â”‚         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                             â”‚
â”‚         â”‚ â€¢ Chain-agnostic UI     â”‚                             â”‚
â”‚         â”‚ â€¢ Agent orchestration   â”‚                             â”‚
â”‚         â”‚ â€¢ User preference mgmt  â”‚                             â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Dual-Chain Strategy

| Feature | Algorand | Avalanche |
|---------|----------|-----------|
| **Purpose** | Match verification, reputation | AI agents, DeFi, tournaments |
| **Agentic Primitives** | âŒ | âœ… ERC-8004, TEE, 1,600+ agents |
| **Cross-Chain** | State Proofs (Falcon signatures) | AWM (Warp Messaging) |
| **Fees** | ~$0.001 | ~$0.01 |
| **Finality** | 4.5s | <1s |
| **EVM Compatibility** | âŒ | âœ… Full |

### Competitive Moat

```
Traditional Sports Apps:    Single-chain or no blockchain
Your Competitors:           Maybe Ethereum L2
SportWarren:                Dual-chain + Agentic
                            â†‘
                            This is defensible
```

---

## Chain Selection Strategy

| Operation | Default Chain | Rationale |
|-----------|---------------|-----------|
| Match Verification | Algorand | Low fees, fast finality |
| Player Reputation | Algorand | Immutable, cost-effective |
| Squad DAO Governance | User Choice | EVM vs. fee preference |
| Agent Trading/DeFi | Avalanche | Liquidity, MEV opportunities |
| Cross-Squad Tournaments | Dual-Chain | AWM + State Proofs |
| AI Agent Operations | Avalanche | ERC-8004, TEE infrastructure |

---

## System Architecture

### Chain Abstraction Layer

```typescript
// src/lib/blockchain/interface.ts
interface BlockchainProvider {
  chain: 'AVALANCHE' | 'ALGORAND';
  
  // Identity & Agents
  connectWallet(): Promise<WalletConnection>;
  createAgentIdentity(params: AgentParams): Promise<AgentId>;
  
  // Squad DAO Operations
  deploySquadDAO(params: DAOParams): Promise<DeploymentResult>;
  createProposal(params: ProposalParams): Promise<TxHash>;
  vote(params: VoteParams): Promise<boolean>;
  
  // Match Operations
  submitMatchResult(match: MatchData): Promise<TxHash>;
  verifyMatch(matchId: string, verifier: string): Promise<boolean>;
  
  // Agent-Specific
  executeAgentAction(action: AgentAction): Promise<TxHash>;
  getAgentState(agentId: string): Promise<AgentState>;
}
```

### Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Next.js 14 Application                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚       Chain Abstraction Layer                 â”‚          â”‚
â”‚  â”‚  BlockchainProvider Interface                 â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚         â”‚                              â”‚                    â”‚
â”‚         â–¼                              â–¼                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ Algorand     â”‚            â”‚ Avalanche    â”‚              â”‚
â”‚  â”‚ (algosdk v3) â”‚            â”‚ (Viem/Wagmi) â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                              â”‚
         â–¼                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Algorand Network â”‚          â”‚ Avalanche Networkâ”‚
â”‚ â€¢ State Proofs   â”‚          â”‚ â€¢ ERC-8004       â”‚
â”‚ â€¢ Match Oracles  â”‚          â”‚ â€¢ AWM Messaging  â”‚
â”‚ â€¢ Low Fees       â”‚          â”‚ â€¢ DeFi/MeV       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Tech Stack

### Frontend
- **Framework:** Next.js 14 (App Router)
- **Styling:** Tailwind CSS + shadcn/ui
- **State:** Zustand + TanStack Query
- **Wallets:** RainbowKit (Avalanche) + Pera Wallet (Algorand)

### Blockchain
| Chain | Contracts | Frontend | Cross-Chain |
|-------|-----------|----------|-------------|
| **Algorand** | TEAL (existing) | algosdk v3.x | State Proofs |
| **Avalanche** | Foundry + Solidity 0.8.x | Viem + Wagmi | AWM |

### Backend & AI
- **API:** Next.js API Routes
- **Indexing:** The Graph + Algorand Indexer
- **Agents:** LangChain + ERC-8004 + TEE

---

## Security

### Cross-Chain Security
- **Avalanche â†’ Avalanche:** AWM (native protocol)
- **Algorand â†’ External:** State Proofs (quantum-safe Falcon signatures)
- **Application Layer:** Tournament synchronization

### Agent Security
- **TEE (Intel TDX):** Hardware-isolated execution
- **ERC-8004:** Verifiable agent identity

### Smart Contracts
- **Algorand:** TEAL best practices
- **Avalanche:** Foundry tests, OpenZeppelin
- **Both:** Security audits before mainnet

---

## Licensing Strategy

SportWarren uses **fictional team and player names** (the "PES approach"):

| Real Example | Our Approach |
|--------------|--------------|
| Manchester United | "Manchester Reds" or "Theatre of Dreams FC" |
| Liverpool | "Merseyside Reds" or "Anfield Road" |
| Premier League | "Premier Sunday League" |

**Why this works:**
- City names, colors, and generic terms aren't trademarked
- PES/Pro Evolution Soccer used this strategy for 20+ years
- Users can edit names locally (Option Files)
- Negotiate real licenses after validation

**See Also:** [Development](./DEVELOPMENT.md) | [Roadmap](./ROADMAP.md) | [Features](./FEATURES.md)
